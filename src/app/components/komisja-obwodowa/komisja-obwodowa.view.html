<form ng-submit="vm.submit(vm.form.$valid)" name="vm.form" novalidate class="form-horizontal">
    <div class="container-fluid">
        <div class="row text-left">
            <div class="col-lg-8 col-lg-offset-2">

                <div class="panel panel-default">
                    <div class="panel-heading text-center">
                        <h3>Obwodowa Komisja Wyborcza</h3>
                    </div>
                    <table class="table table-bordered text-center">
                        <tr>
                            <td>
                                <h4>{{vm.komisja.name}}</h4>
                            </td>
                            <td class="col-lg-4">
                                <h4>{{vm.komisja.pkwId}}</h4>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <h4>{{vm.komisja.address}}</h4>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <h4>Obwodowa Komisja Wyborcza</h4>
                            </td>
                        </tr>
                    </table>

                    <div class="panel-body">
                        <div class="container-fluid text-center">
                            <div class="row">
                                <div class="col-lg-4 col-lg-offset-8">
                                    <a ui-sref="komisja-obwodowa-lista"  class="btn btn-primary btn-lg btn-block">Zły obwód? Powrót</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="panel panel-default">

                    <div class="panel-heading text-center">
                        <h3>Liczby wyborcze</h3>
                    </div>
                    <table class="table table-striped table-bordered table-hover vote-result">
                        <colgroup>
                            <col class="col-lg-8" />
                            <col class="col-lg-4" />
                        </colgroup>
                        <tr ng-repeat="(key,label) in vm.labels" class="test" ng-class="{ 'has-error' : subform2.val.$invalid && (!subform2.val.$pristine || vm.form.submitted) }" ng-form="subform2">
                            <td>
                                <label class="control-label " for="val">{{label}}</label>
                            </td>
                            <td class="text-right">
                                <input ng-model="vm.votes[key]" class="form-control input-lg text-right" placeholder="0" type="number" min="0" required name="val" />
                                <p ng-show="subform2.val.$error.required && (!subform2.val.$pristine || vm.form.submitted)" class="help-block ">Pole jest wymagane</p>
                                <p ng-show="subform2.val.$error.number" class="help-block">Wprowadź poprawną liczbę</p>
                                <p ng-show="subform2.val.$error.min" class="help-block">Liczba powinna byc wieksza od 0</p>
                            </td>
                        </tr>
                    </table>
                </div>


                <div class="panel panel-default">
                    <div class="panel-heading text-center">
                        <h3>II. 14 Kandydaci otrzymali głosów ważnych</h3>
                    </div>

                    <table class="table table-striped table-bordered table-hover vote-result">
                        <colgroup>
                            <col class="col-lg-1" />
                            <col class="col-lg-7" />
                            <col class="col-lg-4" />
                        </colgroup>
                        <tr>
                            <th>Lp.</th>
                            <th>Nazwisko i Imię - imiona</th>
                            <th>Głosy</th>
                        </tr>
                        <tr ng-repeat="candidate in vm.komisja.kandydatList" class="test" ng-class="{ 'has-error' : subform2.val.$invalid && (!subform2.val.$pristine || vm.form.submitted) }" ng-form="subform2">

                            <td class="text-center">
                                <label class="control-label">{{$index+1}}</label>
                            </td>
                            <td>
                                <label class="control-label " for="val">{{candidate.firstname}} {{candidate.lastname}}</label>
                            </td>
                            <td class="text-right">
                                <input ng-model="vm.votes['k'+candidate.pkwId]" class="form-control input-lg text-right" placeholder="0" type="number" min="0" required name="val" />
                                <p ng-show="subform2.val.$error.required && (!subform2.val.$pristine || vm.form.submitted)" class="help-block">Pole jest wymagane</p>
                                <p ng-show="subform2.val.$error.number" class="help-block">Wprowadź poprawną liczbę</p>
                                <p ng-show="subform2.val.$error.min" class="help-block">Liczba powinna byc wieksza od 0</p>
                            </td>
                        </tr>
                    </table>
                    <div class="panel-body">
                        <div class="container-fluid text-center">
                            <div class="row">
                                <div class="col-lg-4 col-lg-offset-8">
                                    <button ng-disabled="form.$invalid" type="submit" class="btn btn-primary btn-lg btn-block pull-right">Wyślij dane</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
