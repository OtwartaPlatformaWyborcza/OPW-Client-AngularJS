<div class="container-fluid page--komisja-obwodowa">
    <div class="row text-left">
        <div class="col-lg-8 col-lg-offset-2">

            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <h3>Obwodowa Komisja Wyborcza</h3>
                </div>
                <table class="table table-bordered text-center">
                    <tr>
                        <td>
                            <h4>{{Protokol.commision.name}}</h4>
                        </td>
                        <td class="col-lg-4">
                            <h4>{{Protokol.commision.pkwId}}</h4>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <h4>{{Protokol.commision.address}}</h4>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="panel panel-default">

                <div class="panel-heading text-center">
                    <h3>Liczby wyborcze</h3>
                </div>
                <table class="table table-striped table-bordered table-hover vote-result">
                    <colgroup>
                        <col class="col-lg-8" />
                        <col class="col-lg-4" />
                    </colgroup>
                    <tr ng-repeat="(key,label) in Protokol.labels" class="test">
                        <td>
                            <label class="control-label " for="val">{{label}}</label>
                        </td>
                        <td class="text-right">
                            <span>{{Protokol.protocol[key]}}</span>
                        </td>
                    </tr>
                </table>
            </div>


            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <h3>II. 14 Kandydaci otrzymali głosów ważnych</h3>
                </div>

                <table class="table table-striped table-bordered table-hover vote-result">
                    <colgroup>
                        <col class="col-lg-1" />
                        <col class="col-lg-7" />
                        <col class="col-lg-4" />
                    </colgroup>
                    <tr>
                        <th>Lp.</th>
                        <th>Nazwisko i Imię - imiona</th>
                        <th>Głosy</th>
                    </tr>
                    <tr ng-repeat="candidate in Protokol.commision.kandydatList | orderBy:'lastname'">
                        <td class="text-center">
                            <label class="control-label">{{$index+1}}</label>
                        </td>
                        <td>
                            <label class="control-label " for="val">{{candidate.firstname}} {{candidate.lastname}}</label>
                        </td>
                        <td class="text-right">
                            <span>{{Protokol.protocol['k'+candidate.pkwId]}}</span>
                        </td>
                    </tr>
                </table>
                <div class="panel-body">
                    <div class="container-fluid text-center">
                        <div class="row">
                            <div class="col-lg-12">
                                <a href="" class="btn btn-success btn-lg responsive-spacing responsive-width" ng-click="Protokol.ratePositive()">Poprawny</a>
                                <a href class="btn btn-danger btn-lg responsive-width" ng-click="Protokol.rateNegative()">Niepoprawny</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <strong>Dodaj link do zdjęcia protokołu:</strong>
                </div>
                <form ng-submit="Protokol.addPhotoLink(Protokol.formAddLink.$valid)" name="Protokol.formAddLink"
                        class="container-fluid form-horizontal" novalidate style="padding-top:20px;">
                    <div class="row form-group">
                        <label class="col-lg-2 control-label" for="photoUrl">Nazwa:</label>
                        <div class="col-lg-10">
                            <input type="text" required class="form-control" name="photoName"
                                placeholder="nazwa"
                                ng-model="Protokol.photo.label">

                            <ko-protocol-link-form-messages form="Protokol.formAddLink" name="photoName"></ko-protocol-link-form-messages>
                        </div>
                            

                    </div> 
                    <div class="row form-group">
                        <label class="col-lg-2 control-label" for="photoUrl">URL:</label>
                        <div class="col-lg-10">
                            <input type="text" required class="form-control" name="photoUrl" id="photoUrl" 
                                placeholder="http://www.example.com/image.jpg"
                                pattern="^(https?:\/\/)([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$"
                                ng-model="Protokol.photo.url">

                            <ko-protocol-link-form-messages form="Protokol.formAddLink" name="photoUrl"></ko-protocol-link-form-messages>
                        </div>
                        
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-10 col-lg-offset-2 text-right">
                            <button type="submit" class="btn btn-primary">Dodaj Link</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading text-center">
                    <strong>Linki do zdjęć protokółu:</strong>
                </div>
                <table class="table table-striped table-bordered table-hover table-condensed">
                    <tr>
                        <th class="col-lg-1" >Lp.</th>
                        <th class="col-lg-10" >Link</th>
                        <th class="col-lg-10" >Akcja</th>
                    </tr>
                    <tr ng-repeat="link in Protokol.protocol.linkList">
                        <td class="text-center">{{$index + 1}}</td>
                        <td><a ng-href="{{link.url}}" target="_blank">{{link.label}}</a></td>
                        <td>
                             <a class="btn btn-danger btn-sm responsive-width responsive-spacing" 
                                ng-click="Protokol.deleteProtocolPhotoLink(link.id)" role="button" >Usuń</a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

